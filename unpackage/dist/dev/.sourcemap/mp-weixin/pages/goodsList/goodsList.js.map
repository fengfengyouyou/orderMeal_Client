{"version":3,"sources":["webpack:///E:/前端学习记录/order-meal-client/main.js","webpack:///E:/前端学习记录/order-meal-client/pages/goodsList/goodsList.vue?4d84","webpack:///E:/前端学习记录/order-meal-client/pages/goodsList/goodsList.vue?c55c","webpack:///E:/前端学习记录/order-meal-client/pages/goodsList/goodsList.vue?23f4","webpack:///E:/前端学习记录/order-meal-client/pages/goodsList/goodsList.vue?9937","webpack:///E:/前端学习记录/order-meal-client/pages/goodsList/goodsList.vue","webpack:///E:/前端学习记录/order-meal-client/pages/goodsList/goodsList.vue?bb4e","webpack:///E:/前端学习记录/order-meal-client/pages/goodsList/goodsList.vue?029d"],"names":["createPage","Page","components","uniBadge","uniPopup","uniNumberBox","data","scrollHeight","isShowCar","options","icon","text","info","currentGoods","buttonGroup","backgroundColor","color","leftArray","mainArray","topArr","leftIndex","isMainScroll","scrollInto","url_config","cartArr","computed","totalPrice","length","num","reduce","x","y","cartNumer","filters","joinAttr","arr","i","condition","onLoad","e","getApp","globalData","_this","uni","getSystemInfo","success","res","getElementInfo","cart","windowHeight","height","initialize","onPullDownRefresh","stopPullDownRefresh","methods","getGoodsList","params","stateName","getListData","radioChange","obj","target","value","openSize","$refs","goodsDetail","close","goodsSize","open","openDetail","addCart","Object","assign","price","push","console","log","numberChange","val","splice","clearCart","submitOrder","req","goodsList","totalNumer","addOrder","copyList","JSON","parse","stringify","map","attribute","forEach","p","n","valueArr","constructor","String","split","title","type","tagArr","m","name","id","left","main","indexOf","filter","list","$nextTick","getElementTop","getScrollTop","selector","Promise","resolve","reject","query","createSelectorQuery","in","select","boundingClientRect","top","exec","p_arr","resu","then","all","mainScroll","detail","scrollTop","index","findIndex","item","mainTouch","leftTap","currentTarget","dataset","Number"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,wG;AACAA,UAAU,CAACC,kBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;AACc;;;AAGtE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;AC1Cf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,IAAI,4NAA2H;AAC/H;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAmmB,CAAgB,6nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiIvnB,gD;;;;AAIe;AACdC,YAAU,EAAE;AACXC,YAAQ,WADG;AAEXC,YAAQ,WAFG;AAGXC,gBAAY,EAAZA,YAHW,EADE;;AAMdC,MANc,kBAMP;AACN,WAAO;AACNC,kBAAY,EAAE,OADR;AAENC,eAAS,EAAE,KAFL;AAGNC,aAAO,EAAE,CAAC;AACTC,YAAI,EAAE,sEADG;AAETC,YAAI,EAAE,KAFG;AAGTC,YAAI,EAAE,CAHG,EAAD,CAHH;;AAQNC,kBAAY,EAAE,EARR;AASNC,iBAAW,EAAE,CAAC;AACbH,YAAI,EAAE,MADO;AAEbI,uBAAe,EAAE,SAFJ;AAGbC,aAAK,EAAE,MAHM,EAAD,CATP;;AAcNC,eAAS,EAAE,EAdL;AAeNC,eAAS,EAAE,EAfL;AAgBNC,YAAM,EAAE,EAhBF;AAiBNC,eAAS,EAAE,CAjBL;AAkBNC,kBAAY,EAAE,KAlBR;AAmBNC,gBAAU,EAAE,EAnBN;AAoBN;AACAC,gBAAU,EAAC,EArBL;AAsBNC,aAAO,EAAC,EAtBF,EAAP;;AAwBA,GA/Ba;AAgCdC,UAAQ;AACJ,sBAAS,CAAC,WAAD,CAAT,CADI;AAEPC,cAFO,wBAEK;AACX,UAAG,KAAKF,OAAL,CAAaG,MAAb,GAAoB,CAAvB,EAAyB;AACxB,YAAIC,GAAG,GAAG,KAAKJ,OAAL,CAAaK,MAAb,CAAoB,UAACC,CAAD,EAAGC,CAAH,UAAOD,CAAC,GAACC,CAAC,CAACL,UAAF,GAAa,CAAtB,EAApB,EAA4C,CAA5C,CAAV;AACA,eAAOE,GAAP;AACA,OAHD,MAGK;AACJ,eAAO,CAAP;AACA;AACD,KATM;AAUPI,aAVO,uBAUI;AACV,aAAO,KAAKR,OAAL,CAAaG,MAAb,GAAsB,EAA7B;AACA,KAZM,GAhCM;;AA8CdM,SAAO,EAAC;AACPC,YADO,oBACEC,GADF,EACM;AACZ,aAAOA,GAAG,CAACN,MAAJ,CAAW,UAACC,CAAD,EAAGC,CAAH,EAAKK,CAAL,EAAS;AAC1B,YAAGA,CAAC,GAACD,GAAG,CAACR,MAAJ,GAAW,CAAhB,EAAkB;AACjB,iBAAOG,CAAC,GAACC,CAAC,CAACM,SAAJ,GAAc,GAArB;AACA,SAFD,MAEK;AACJ,iBAAOP,CAAC,GAACC,CAAC,CAACM,SAAX;AACA;AACD,OANM,EAML,EANK,CAAP;AAOA,KATM,EA9CM;;AAyDdC,QAzDc,kBAyDPC,CAzDO,EAyDJ;AACT,SAAKhB,UAAL,GAAkBiB,MAAM,GAAGC,UAAT,CAAoBlB,UAAtC;AACA,QAAImB,KAAK,GAAG,IAAZ;AACAC,OAAG,CAACC,aAAJ,CAAkB;AACjBC,aAAO,wFAAE,iBAAOC,GAAP;;AAES,0BAAI,CAACC,cAAL,CAAoB,OAApB,CAFT,SAEJC,IAFI;AAGR;AACA,wBAAI,CAACzC,YAAL,aAAuBuC,GAAG,CAACG,YAAJ,GAAiBD,IAAI,CAACE,MAA7C;AACA;AALQ,8EAAF,mFADU,EAAlB;;AASA,SAAKC,UAAL;AACA,GAtEa;AAuERC,mBAvEQ;AAwEP,qBAAKD,UAAL,EAxEO;AAyEbR,iBAAG,CAACU,mBAAJ,GAzEa;;AA2EdC,SAAO;AACH,wBAAW,CAAC,cAAD,EAAgB,UAAhB,CAAX,CADG;AAEAH,cAFA;AAGC,uBAAKI,YAAL,CAAkB;AACvBC,0BAAM,EAAE,EADe;AAEvBC,6BAAS,EAAE,WAFY,EAAlB,CAHD;;AAOL,qBAAKC,WAAL,GAPK;;AASNC,eAAW,EAAE,qBAASC,GAAT,EAAcrB,CAAd,EAAiB;AAC7B;AACAqB,SAAG,CAACvB,SAAJ,GAAgBE,CAAC,CAACsB,MAAF,CAASC,KAAzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnBK;AAoBNC,YApBM,oBAoBGnD,IApBH,EAoBS;AACd,WAAKC,YAAL,GAAoBD,IAApB;AACA,WAAKoD,KAAL,CAAWC,WAAX,CAAuBC,KAAvB;AACA,WAAKF,KAAL,CAAWG,SAAX,CAAqBC,IAArB;AACA,KAxBK;AAyBNC,cAzBM,sBAyBKzD,IAzBL,EAyBW;AAChB,WAAKC,YAAL,GAAoBD,IAApB;AACA,WAAKoD,KAAL,CAAWG,SAAX,CAAqBD,KAArB;AACA,WAAKF,KAAL,CAAWC,WAAX,CAAuBG,IAAvB;AACA,KA7BK;AA8BNE,WA9BM,qBA8BG;AACR,UAAIV,GAAG,GAAGW,MAAM,CAACC,MAAP,CAAc,EAAC5C,GAAG,EAAC,CAAL,EAAOF,UAAU,EAAC,KAAKb,YAAL,CAAkB4D,KAApC,EAAd,EAAyD,KAAK5D,YAA9D,CAAV;AACA,WAAKW,OAAL,CAAakD,IAAb,CAAkBd,GAAlB;AACAe,aAAO,CAACC,GAAR,CAAY,KAAKpD,OAAjB;AACA,WAAKwC,KAAL,CAAWG,SAAX,CAAqBD,KAArB;AACA,WAAKF,KAAL,CAAWC,WAAX,CAAuBC,KAAvB;AACA,KApCK;AAqCNW,gBArCM,wBAqCOC,GArCP,EAqCWlB,GArCX,EAqCexB,CArCf,EAqCiB;AACtBuC,aAAO,CAACC,GAAR,CAAYE,GAAZ,EAAgBlB,GAAhB,EAAoBxB,CAApB;AACA,UAAG0C,GAAG,GAAC,CAAP,EAAS;AACR,aAAKtD,OAAL,CAAauD,MAAb,CAAoB3C,CAApB,EAAsB,CAAtB;AACA,OAFD,MAEK;AACJwB,WAAG,CAAClC,UAAJ,GAAiBkC,GAAG,CAACa,KAAJ,GAAUK,GAA3B;AACA;AACA;AACA,aAAKtD,OAAL,CAAauD,MAAb,CAAoB3C,CAApB,EAAsB,CAAtB,EAAwBwB,GAAxB;AACAe,eAAO,CAACC,GAAR,CAAYhB,GAAG,CAAClC,UAAhB;AACA;AACD,KAhDK;AAiDNsD,aAjDM,uBAiDK;AACV,WAAKxD,OAAL,GAAe,EAAf;AACA,KAnDK;AAoDAyD,eApDA;AAqDDC,mBArDC,GAqDK;AACTC,2BAAS,EAAC,KAAK3D,OADN;AAETE,4BAAU,EAAC,KAAKA,UAFP;AAGT0D,4BAAU,EAAC,KAAK5D,OAAL,CAAaG,MAHf,EArDL;;AA0DW,uBAAK0D,QAAL,CAAc;AAC7B7B,0BAAM,EAAE0B,GADqB,EAAd,CA1DX,SA0DDpC,GA1DC;;AA6DL,oBAAG,CAACA,GAAJ,EAAQ;AACP,uBAAKkC,SAAL;AACA;AACD;AAhEK;AAkEN;AACAtB,eAnEM,yBAmEQ;AACb,UAAI4B,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKN,SAApB,CAAX,EAA2CO,GAA3C,CAA+C,UAAAnD,CAAC,EAAE;AAChEA,SAAC,CAACoD,SAAF,CAAYC,OAAZ,CAAoB,UAACC,CAAD,EAAGC,CAAH,EAAO;AAC1B;AACA,cAAI3D,GAAG,GAAG0D,CAAC,CAACE,QAAF,CAAWC,WAAX,KAAyBC,MAAzB,GAAgCJ,CAAC,CAACE,QAAF,CAAWG,KAAX,CAAiB,GAAjB,CAAhC,GAAsDL,CAAC,CAACE,QAAlE;AACAxD,WAAC,CAACoD,SAAF,CAAYG,CAAZ,IAAiB;AAChBK,iBAAK,EAAEN,CAAC,CAACO,IADO;AAEhB/D,qBAAS,EAAEF,GAAG,CAAC,CAAD,CAFE;AAGhBkE,kBAAM,EAAElE,GAAG,CAACuD,GAAJ,CAAQ,UAAAY,CAAC,UAAG;AACnBC,oBAAI,EAACD,CADc;AAEnBE,kBAAE,EAACF,CAFgB,EAAH,EAAT,CAHQ,EAAjB;;;AAQA,SAXD;AAYA,eAAO/D,CAAP;AACA,OAdc,CAAf;AAeA,UAAIkE,IAAI,GAAG,EAAX;AACCC,UAAI,GAAG,EADR;AAEApB,cAAQ,CAACM,OAAT,CAAiB,UAACrD,CAAD,EAAIH,CAAJ,EAAU;AAC1B,YAAIqE,IAAI,CAACE,OAAL,CAAapE,CAAC,CAAC6D,IAAf,KAAwB,CAAC,CAA7B,EAAgC;AAC/BK,cAAI,CAAC/B,IAAL,CAAUnC,CAAC,CAAC6D,IAAZ;AACA;AACD,OAJD;AAKAK,UAAI,CAACb,OAAL,CAAa,UAACrD,CAAD,EAAIH,CAAJ,EAAU;AACtB,YAAID,GAAG,GAAGmD,QAAQ,CAACsB,MAAT,CAAgB,UAAAf,CAAC,UAAIA,CAAC,CAACO,IAAF,KAAW7D,CAAf,EAAjB,CAAV;AACAmE,YAAI,CAAChC,IAAL,CAAU;AACT0B,cAAI,EAAE7D,CADG;AAETsE,cAAI,EAAE1E,GAFG,EAAV;;AAIA,OAND;AAOAwC,aAAO,CAACC,GAAR,CAAY6B,IAAZ,EAAkBC,IAAlB;AACA,WAAKzF,SAAL,GAAiBwF,IAAjB;AACA,WAAKvF,SAAL,GAAiBwF,IAAjB;AACA,WAAKI,SAAL,CAAe,YAAM;AACpB,cAAI,CAACC,aAAL;AACA,OAFD;AAGA,KAvGK;AAwGN;AACAC,gBAzGM,wBAyGOC,QAzGP,EAyGiB;AACtB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvC,YAAIC,KAAK,GAAG1E,GAAG,CAAC2E,mBAAJ,GAA0BC,EAA1B,CAA6B,MAA7B,CAAZ;AACAF,aAAK,CAACG,MAAN,CAAaP,QAAQ,GAAG,EAAxB,EAA4BQ,kBAA5B,CAA+C,UAAAnH,IAAI,EAAI;AACtD6G,iBAAO,CAAC7G,IAAI,CAACoH,GAAN,CAAP;AACA,SAFD,EAEGC,IAFH;AAGA,OALM,CAAP;AAMA,KAhHK;AAiHN5E,kBAjHM,0BAiHSkE,QAjHT,EAiHmB;AACxB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvC,YAAIC,KAAK,GAAG1E,GAAG,CAAC2E,mBAAJ,GAA0BC,EAA1B,CAA6B,MAA7B,CAAZ;AACAF,aAAK,CAACG,MAAN,CAAaP,QAAQ,GAAG,EAAxB,EAA4BQ,kBAA5B,CAA+C,UAAAnH,IAAI,EAAI;AACtD6G,iBAAO,CAAC7G,IAAD,CAAP;AACA,SAFD,EAEGqH,IAFH;AAGA,OALM,CAAP;AAMA,KAxHK;AAyHN;AACMZ,iBA1HA;AA2HL;AACIa,qBA5HC,GA4HO,EA5HP;;AA8HL;AACSxF,iBA/HJ,GA+HQ,CA/HR,cA+HWA,CAAC,GAAG,KAAKlB,SAAL,CAAeS,MA/H9B;AAgIe,uBAAKqF,YAAL,iBAA2B5E,CAA3B,EAhIf,SAgIEyF,IAhIF;AAiIJD,qBAAK,CAAClD,IAAN,CAAWmD,IAAX,EAjII,OA+HsCzF,CAAC,EA/HvC;;;AAoIL;;AAEA;AACA,qBAAK4E,YAAL,CAAkB,YAAlB,EAAgCc,IAAhC,CAAqC,UAAChF,GAAD,EAAS;;AAE7C,sBAAI4E,GAAG,GAAG5E,GAAV;;;;;;AAMA;AACAoE,yBAAO,CAACa,GAAR,CAAYH,KAAZ,EAAmBE,IAAnB,CAAwB,UAACxH,IAAD,EAAU;AACjC;AACA,0BAAI,CAACa,MAAL,GAAcb,IAAd;AACA,mBAHD;AAIA,iBAbD,EAvIK;;;AAuJN;AACA0H,cAxJM,sBAwJKzF,CAxJL,EAwJQ;AACb,UAAI,CAAC,KAAKlB,YAAV,EAAwB;AACvB;AACA;AACD,UAAIqG,GAAG,GAAGnF,CAAC,CAAC0F,MAAF,CAASC,SAAnB;AACA,UAAIC,KAAK,GAAG,CAAC,CAAb;;AAEA,UAAIT,GAAG,IAAI,KAAKvG,MAAL,CAAY,KAAKA,MAAL,CAAYQ,MAAZ,GAAqB,CAAjC,CAAX,EAAgD;AAC/CwG,aAAK,GAAG,KAAKhH,MAAL,CAAYQ,MAAZ,GAAqB,CAA7B;AACA,OAFD,MAEO;AACNwG,aAAK,GAAG,KAAKhH,MAAL,CAAYiH,SAAZ,CAAsB,UAACC,IAAD,EAAOF,KAAP,EAAiB;AAC9C,iBAAO,MAAI,CAAChH,MAAL,CAAYgH,KAAK,GAAG,CAApB,KAA0BT,GAAjC;AACA,SAFO,CAAR;AAGA;AACD,WAAKtG,SAAL,GAAkB+G,KAAK,GAAG,CAAR,GAAY,CAAZ,GAAgBA,KAAlC;AACA,KAvKK;AAwKN;AACAG,aAzKM,uBAyKM;AACX,WAAKjH,YAAL,GAAoB,IAApB;AACA,KA3KK;AA4KN;AACAkH,WA7KM,mBA6KEhG,CA7KF,EA6KK;AACV,UAAI4F,KAAK,GAAG5F,CAAC,CAACiG,aAAF,CAAgBC,OAAhB,CAAwBN,KAApC;AACA,WAAK9G,YAAL,GAAoB,KAApB;AACA,WAAKD,SAAL,GAAiBsH,MAAM,CAACP,KAAD,CAAvB;AACA,WAAK7G,UAAL,kBAA0B6G,KAA1B;AACA,KAlLK,GA3EO,E;;;;;;;;;;;;;ACrIf;AAAA;AAAA;AAAA;AAAmmC,CAAgB,8kCAAG,EAAC,C;;;;;;;;;;;ACAvnC,uC","file":"pages/goodsList/goodsList.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/goodsList/goodsList.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./goodsList.vue?vue&type=template&id=6dec85fa&\"\nvar renderjs\nimport script from \"./goodsList.vue?vue&type=script&lang=js&\"\nexport * from \"./goodsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goodsList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('6dec85fa')) {\n      api.createRecord('6dec85fa', component.options)\n    } else {\n      api.reload('6dec85fa', component.options)\n    }\n    module.hot.accept(\"./goodsList.vue?vue&type=template&id=6dec85fa&\", function () {\n      api.rerender('6dec85fa', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/前端学习记录/order-meal-client/pages/goodsList/goodsList.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goodsList.vue?vue&type=template&id=6dec85fa&\"","var components = {\n  \"uni-number-box\": () =>\n    import(/* webpackChunkName: \"components/uni-number-box/uni-number-box\" */ \"@/components/uni-number-box/uni-number-box.vue\")\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.cartArr, function(e, i) {\n    var f0 = _vm._f(\"joinAttr\")(e.attribute)\n\n    return {\n      $orig: _vm.__get_orig(e),\n      f0: f0\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.isShowCar = !_vm.isShowCar\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goodsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goodsList.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tuniBadge,\n\tuniPopup\n} from '@dcloudio/uni-ui'\nimport uniNumberBox from '../../components/uni-number-box/uni-number-box.vue'\nimport {\n\tmapActions,\n\tmapState\n} from 'vuex'\nexport default {\n\tcomponents: {\n\t\tuniBadge,\n\t\tuniPopup,\n\t\tuniNumberBox\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tscrollHeight: '500px',\n\t\t\tisShowCar: false,\n\t\t\toptions: [{\n\t\t\t\ticon: 'https://img-cdn-qiniu.dcloud.net.cn/uniapp/uni-ui/goodsnav/carts.png',\n\t\t\t\ttext: '购物车',\n\t\t\t\tinfo: 2\n\t\t\t}],\n\t\t\tcurrentGoods: {},\n\t\t\tbuttonGroup: [{\n\t\t\t\ttext: '立即购买',\n\t\t\t\tbackgroundColor: '#ffa200',\n\t\t\t\tcolor: '#fff'\n\t\t\t}],\n\t\t\tleftArray: [],\n\t\t\tmainArray: [],\n\t\t\ttopArr: [],\n\t\t\tleftIndex: 0,\n\t\t\tisMainScroll: false,\n\t\t\tscrollInto: '',\n\t\t\t// tipsTop: '0px',\n\t\t\turl_config:'',\n\t\t\tcartArr:[]\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapState(['goodsList']),\n\t\ttotalPrice(){\n\t\t\tif(this.cartArr.length>0){\n\t\t\t\tlet num = this.cartArr.reduce((x,y)=>x+y.totalPrice*1,0)\n\t\t\t\treturn num\n\t\t\t}else{\n\t\t\t\treturn 0\n\t\t\t}\n\t\t},\n\t\tcartNumer(){\n\t\t\treturn this.cartArr.length + ''\n\t\t}\n\t},\n\tfilters:{\n\t\tjoinAttr(arr){\n\t\t\treturn arr.reduce((x,y,i)=>{\n\t\t\t\tif(i<arr.length-1){\n\t\t\t\t\treturn x+y.condition+'/'\n\t\t\t\t}else{\n\t\t\t\t\treturn x+y.condition\n\t\t\t\t}\n\t\t\t},'')\n\t\t}\n\t},\n\tonLoad(e) {\n\t\tthis.url_config = getApp().globalData.url_config\n\t\tvar _this = this\n\t\tuni.getSystemInfo({\n\t\t\tsuccess: async (res) => {\n\t\t\t\t// let cartHeight = \n\t\t\t\tlet cart = await this.getElementInfo('#cart')\n\t\t\t\t/* 设置当前滚动容器的高，若非窗口的告诉，请自行修改 */\n\t\t\t\tthis.scrollHeight = `${res.windowHeight-cart.height}px`;\n\t\t\t\t// console.log('gaodu', res.windowHeight)\n\t\t\t}\n\t\t});\n\t\tthis.initialize()\n\t},\n\tasync onPullDownRefresh() {\n\t\tawait this.initialize()\n\t\tuni.stopPullDownRefresh();\n\t},\n\tmethods: {\n\t\t...mapActions(['getGoodsList','addOrder']),\n\t\tasync initialize() {\n\t\t\tawait this.getGoodsList({\n\t\t\t\tparams: {},\n\t\t\t\tstateName: 'goodsList'\n\t\t\t})\n\t\t\tthis.getListData();\n\t\t},\n\t\tradioChange: function(obj, e) {\n\t\t\t// console.log(obj,e.target.value)\n\t\t\tobj.condition = e.target.value\n\t\t\t// console.log(obj.condition)\n\t\t\t// for (let i = 0; i < this.items.length; i++) {\n\t\t\t// \tif (this.items[i].value === evt.target.value) {\n\t\t\t// \t\tthis.current = i;\n\t\t\t// \t\tbreak;\n\t\t\t// \t}\n\t\t\t// }\n\t\t},\n\t\topenSize(info) {\n\t\t\tthis.currentGoods = info\n\t\t\tthis.$refs.goodsDetail.close()\n\t\t\tthis.$refs.goodsSize.open()\n\t\t},\n\t\topenDetail(info) {\n\t\t\tthis.currentGoods = info\n\t\t\tthis.$refs.goodsSize.close()\n\t\t\tthis.$refs.goodsDetail.open()\n\t\t},\n\t\taddCart(){\n\t\t\tlet obj = Object.assign({num:1,totalPrice:this.currentGoods.price},this.currentGoods)\n\t\t\tthis.cartArr.push(obj)\n\t\t\tconsole.log(this.cartArr)\n\t\t\tthis.$refs.goodsSize.close()\n\t\t\tthis.$refs.goodsDetail.close()\n\t\t},\n\t\tnumberChange(val,obj,i){\n\t\t\tconsole.log(val,obj,i)\n\t\t\tif(val<1){\n\t\t\t\tthis.cartArr.splice(i,1)\n\t\t\t}else{\n\t\t\t\tobj.totalPrice = obj.price*val\n\t\t\t\t// let arr = JSON.parse(JSON.stringify(this.cartArr))\n\t\t\t\t// arr[i]=obj\n\t\t\t\tthis.cartArr.splice(i,1,obj)\n\t\t\t\tconsole.log(obj.totalPrice)\n\t\t\t}\n\t\t},\n\t\tclearCart(){\n\t\t\tthis.cartArr = []\n\t\t},\n\t\tasync submitOrder(){\n\t\t\tlet req = {\n\t\t\t\tgoodsList:this.cartArr,\n\t\t\t\ttotalPrice:this.totalPrice,\n\t\t\t\ttotalNumer:this.cartArr.length\n\t\t\t}\n\t\t\tlet res = await this.addOrder({\n\t\t\t\tparams: req\n\t\t\t})\n\t\t\tif(!res){\n\t\t\t\tthis.clearCart()\n\t\t\t}\n\t\t\t// console.log(this.cartArr)\n\t\t},\n\t\t/* 获取列表数据 */\n\t\tgetListData() {\n\t\t\tlet copyList = JSON.parse(JSON.stringify(this.goodsList)).map(e=>{\n\t\t\t\te.attribute.forEach((p,n)=>{\n\t\t\t\t\t// console.log(p.valueArr,p.valueArr.constructor===String)\n\t\t\t\t\tlet arr = p.valueArr.constructor===String?p.valueArr.split('/'):p.valueArr\n\t\t\t\t\te.attribute[n] = {\n\t\t\t\t\t\ttitle: p.type,\n\t\t\t\t\t\tcondition: arr[0],\n\t\t\t\t\t\ttagArr: arr.map(m=>({\n\t\t\t\t\t\t\tname:m,\n\t\t\t\t\t\t\tid:m\n\t\t\t\t\t\t}))\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\treturn e\n\t\t\t})\n\t\t\tlet left = [],\n\t\t\t\tmain = []\n\t\t\tcopyList.forEach((e, i) => {                 \n\t\t\t\tif (left.indexOf(e.type) == -1) {\n\t\t\t\t\tleft.push(e.type)\n\t\t\t\t}\n\t\t\t})\n\t\t\tleft.forEach((e, i) => {\n\t\t\t\tlet arr = copyList.filter(p => p.type === e)\n\t\t\t\tmain.push({\n\t\t\t\t\ttype: e,\n\t\t\t\t\tlist: arr\n\t\t\t\t})\n\t\t\t})\n\t\t\tconsole.log(left, main)\n\t\t\tthis.leftArray = left\n\t\t\tthis.mainArray = main\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.getElementTop();\n\t\t\t});\n\t\t},\n\t\t//获取距离顶部的高度\n\t\tgetScrollTop(selector) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet query = uni.createSelectorQuery().in(this);\n\t\t\t\tquery.select(selector + '').boundingClientRect(data => {\n\t\t\t\t\tresolve(data.top)\n\t\t\t\t}).exec();\n\t\t\t})\n\t\t},\n\t\tgetElementInfo(selector) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet query = uni.createSelectorQuery().in(this);\n\t\t\t\tquery.select(selector + '').boundingClientRect(data => {\n\t\t\t\t\tresolve(data)\n\t\t\t\t}).exec();\n\t\t\t})\n\t\t},\n\t\t/* 获取元素顶部信息 */\n\t\tasync getElementTop() {\n\t\t\t/* Promise 对象数组 */\n\t\t\tlet p_arr = [];\n\n\t\t\t/* 遍历数据，创建相应的 Promise 数组数据 */\n\t\t\tfor (let i = 0; i < this.mainArray.length; i++) {\n\t\t\t\tconst resu = await this.getScrollTop(`#item-${i}`)\n\t\t\t\tp_arr.push(resu)\n\t\t\t}\n\n\t\t\t// console.log('p_arr', p_arr)\n\n\t\t\t/* 主区域滚动容器的顶部距离 */\n\t\t\tthis.getScrollTop(\"#scroll-el\").then((res) => {\n\n\t\t\t\tlet top = res;\n\n\n\n\n\n\t\t\t\t/* 所有节点信息返回后调用该方法 */\n\t\t\t\tPromise.all(p_arr).then((data) => {\n\t\t\t\t\t// console.log('滚动', data)\n\t\t\t\t\tthis.topArr = data;\n\t\t\t\t});\n\t\t\t})\n\t\t},\n\n\t\t/* 主区域滚动监听 */\n\t\tmainScroll(e) {\n\t\t\tif (!this.isMainScroll) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet top = e.detail.scrollTop;\n\t\t\tlet index = -1;\n\n\t\t\tif (top >= this.topArr[this.topArr.length - 1]) {\n\t\t\t\tindex = this.topArr.length - 1;\n\t\t\t} else {\n\t\t\t\tindex = this.topArr.findIndex((item, index) => {\n\t\t\t\t\treturn this.topArr[index + 1] >= top;\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.leftIndex = (index < 0 ? 0 : index);\n\t\t},\n\t\t/* 主区域触摸 */\n\t\tmainTouch() {\n\t\t\tthis.isMainScroll = true;\n\t\t},\n\t\t/* 左侧导航点击 */\n\t\tleftTap(e) {\n\t\t\tlet index = e.currentTarget.dataset.index;\n\t\t\tthis.isMainScroll = false;\n\t\t\tthis.leftIndex = Number(index);\n\t\t\tthis.scrollInto = `item-${index}`;\n\t\t}\n\t}\n}\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goodsList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goodsList.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}