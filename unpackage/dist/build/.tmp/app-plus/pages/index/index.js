(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"00ee":function(e,n,t){"use strict";(function(e,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(t("a34a")),u=t("2f62");function a(e){return e&&e.__esModule?e:{default:e}}function r(e,n,t,i,o,u,a){try{var r=e[u](a),c=r.value}catch(s){return void t(s)}r.done?n(c):Promise.resolve(c).then(i,o)}function c(e){return function(){var n=this,t=arguments;return new Promise(function(i,o){var u=e.apply(n,t);function a(e){r(u,i,o,a,c,"next",e)}function c(e){r(u,i,o,a,c,"throw",e)}a(void 0)})}}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.forEach(function(n){f(e,n,t[n])})}return e}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var l=function(){return t.e("node-modules/@dcloudio/uni-ui/lib/uni-popup/uni-popup").then(t.bind(null,"70e3"))},d={components:{uniPopup:l},data:function(){return{title:"Hello",news:[],SessionKey:"",OpenId:"",code:"",nickName:null,avatarUrl:null}},computed:s({},(0,u.mapState)(["token"])),onLoad:function(){this.login()},methods:s({},(0,u.mapActions)(["userLogin"]),(0,u.mapMutations)(["SET_VALUE"]),{toList:function(){e.switchTab({url:"../goodsList/goodsList",fail:function(e){i("log",e," at pages\\index\\index.vue:92")}})},getAdress:function(){e.getLocation({type:"wgs84",success:function(e){i("log","当前位置的经度："+e.longitude," at pages\\index\\index.vue:101"),i("log","当前位置的纬度："+e.latitude," at pages\\index\\index.vue:102")}})},wxGetUserInfo:function(e){this.$refs.popup.close(),i("log",e," at pages\\index\\index.vue:108");var n=e.detail;this.SET_VALUE({key:"userInfo",value:n.userInfo}),this.nickName=n.userInfo.nickName,this.avatarUrl=n.userInfo.avatarUrl;try{this.loginRequest()}catch(t){i("log",t," at pages\\index\\index.vue:121")}},login:function(){var n=this;e.showLoading({title:"登录中..."}),e.login({provider:"weixin",success:function(t){var o=t.code;n.code=o,i("log","code",o," at pages\\index\\index.vue:143"),e.getUserInfo({provider:"weixin",success:function(e){n.SET_VALUE({key:"userInfo",value:e.userInfo}),n.nickName=e.userInfo.nickName,n.avatarUrl=e.userInfo.avatarUrl,n.loginRequest()},fail:function(e){i("log","uni.getUserInfo失败",e," at pages\\index\\index.vue:157"),n.$refs.popup.open()}}),e.hideLoading()},fail:function(e){i("log","uni.login失败",e," at pages\\index\\index.vue:166"),n.$refs.popup.open()}})},loginRequest:function(){var e=c(o.default.mark(function e(){return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.userLogin({params:{code:this.code,nickName:this.nickName,avatarUrl:this.avatarUrl},stateName:"token"});case 2:i("log","token",this.token," at pages\\index\\index.vue:183");case 3:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}()})};n.default=d}).call(this,t("6e42")["default"],t("0de9")["default"])},"4c78":function(e,n,t){"use strict";(function(e){t("4e61"),t("921b");i(t("66fd"));var n=i(t("aec7"));function i(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("6e42")["createPage"])},aec7:function(e,n,t){"use strict";t.r(n);var i=t("c1d0"),o=t("cd7f");for(var u in o)"default"!==u&&function(e){t.d(n,e,function(){return o[e]})}(u);t("bbc7");var a,r=t("f0c5"),c=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"665c8276",null,!1,i["a"],a);n["default"]=c.exports},bbc7:function(e,n,t){"use strict";var i=t("cf94"),o=t.n(i);o.a},c1d0:function(e,n,t){"use strict";var i,o=function(){var e=this,n=e.$createElement;e._self._c},u=[];t.d(n,"b",function(){return o}),t.d(n,"c",function(){return u}),t.d(n,"a",function(){return i})},cd7f:function(e,n,t){"use strict";t.r(n);var i=t("00ee"),o=t.n(i);for(var u in i)"default"!==u&&function(e){t.d(n,e,function(){return i[e]})}(u);n["default"]=o.a},cf94:function(e,n,t){}},[["4c78","common/runtime","common/vendor"]]]);